<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
    <style>

    </style>
</head>

<body>
    <header class="jumbotron">
        <h1 class="display-3">Work Day Scheduler</h1>
        <p class="lead">A simple calendar app for scheduling your work day</p>
        <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <!-- Testing -->

                <!-- Added time-block class -->
                <span class="input-group-text time-block block1" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block2" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block3" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block4" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block5" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block6" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block7" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block8" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->
        </div>
        <!-- Timeblocks go here -->
        <div class="input-group input-group-lg">
            <div class="input-group-prepend">
                <span class="input-group-text time-block block9" id="inputGroup-sizing-lg"></span>
            </div>
            <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm">
            <input class="btn saveBtn" type="submit" value="Save">
            <!-- Use Favacon for save icon-->


        </div>
    </div>
    <!-- Test localStorage-->
    <div class="small-container">
        <h1>New Tab App</h1>

        <form>
            <input id="item" type="text" placeholder="New" required />
        </form>

        <h2>Items</h2>
        <ul></ul>

        <button>Clear All</button>
    </div>



    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script>

        // Test Local
        const form = document.querySelector('form')
        const ul = document.querySelector('ul')
        const button = document.querySelector('button')
        const input = document.getElementById('item')
        let itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []

        localStorage.setItem('items', JSON.stringify(itemsArray))
        const data = JSON.parse(localStorage.getItem('items'))

        const liMaker = text => {
            const li = document.createElement('li')
            li.textContent = text
            ul.appendChild(li)
        }

        form.addEventListener('submit', function (e) {
            e.preventDefault()

            itemsArray.push(input.value)
            localStorage.setItem('items', JSON.stringify(itemsArray))
            liMaker(input.value)
            input.value = ''
        })

        data.forEach(item => {
            liMaker(item)
        })

        button.addEventListener('click', function () {
            localStorage.clear()
            while (ul.firstChild) {
                ul.removeChild(ul.firstChild)
            }
        })

        // Psuedo code
        // Find out of Moment.js needs further installation
        // Start with Document onload?
        // Look up Javscript Calendar, write steps down and find matching Jquery methods?
        // Variables unknown until step above is complete

        // Needs start time
        // Needs end time
        // Needs current time  
        // Needs to compare each hour to current time, and determine if it is 
        // Current time is always going to be more than start time
        // Current time is always going to be less than end time
        // Difference between the two
        // For loop for starting time, it would only be able to loop up to the ending time, then what?


        // Test: 
        // Top date, works
        moment(Date);
        $("#currentDay").text(moment().format('dddd MMMM Do YYYY, h:mm a'));

        // Time comparison format
        // var format = "HA";
        var CurrentTime = moment();
        // Turns hour back to zero. 12:30 would become 12:00

        // console.log(time);
        // var beforeTime = moment(9, format);
        var beforeTime = moment().startOf('day').add(9, "hours");
        // var afterTime = moment(17, format);
        var afterTime = moment().startOf('day').add(17, "hours");
        console.log(beforeTime);
        console.log(beforeTime.format('hh:mm A'));
        console.log(afterTime);
        console.log(afterTime.format('hh:mm A'));

        console.log(CurrentTime, beforeTime, afterTime.format('hh:mm A'));

        // if time is greater than beforetime but can't do if time is greater than beforetime.format
        // .format is a string parse
        // var currentTime = moment().format('h:mm A');
        // var format = 'h:mm A';
        // console.log(currentTime);

        // Time blocks
        // Can I loop this?
        // 9 AM 
        var time1 = beforeTime.add(0, "h");
        time1 = time1.format('hh:mm A');
        // Populates time formula into html
        $(".block1").text(time1);
        // 10 AM
        var time2 = beforeTime.add(1, "h");
        time2 = time2.format('hh:mm A');
        // Populates time formula into html
        $(".block2").text(time2);
        // 11 AM
        var time3 = beforeTime.add(1, "h");
        time3 = time3.format('hh:mm A');
        // Populates time formula into html
        $(".block3").text(time3);
        // 12 PM
        var time4 = beforeTime.add(1, "h");
        time4 = time4.format('hh:mm A');
        // Populates time formula into html
        $(".block4").text(time4);
        // 1 PM
        var time5 = beforeTime.add(1, "h");
        time5 = time5.format('hh:mm A');
        // Populates time formula into html
        $(".block5").text(time5);
        // 2 PM
        var time6 = beforeTime.add(1, "h");
        time6 = time6.format('hh:mm A');
        // Populates time formula into html
        $(".block6").text(time6);
        // 3 PM
        var time7 = beforeTime.add(1, "h");
        time7 = time7.format('hh:mm A');
        // Populates time formula into html
        $(".block7").text(time7);
        // 4 PM
        var time8 = beforeTime.add(1, "h");
        time8 = time8.format('hh:mm A');
        // Populates time formula into html
        $(".block8").text(time8);
        // 5 PM
        var time9 = beforeTime.add(1, "h");
        time9 = time9.format('hh:mm A');
        // Populates time formula into html
        $(".block9").text(time9);


        // // If statement - not working
        // if (CurrentTime.isAfter(beforeTime)) {
        //     console.log("yes");
        // }

        // if (CurrentTime.isBefore(afterTime)) {
        //     console.log("no");
        // }

        // if (CurrentTime.isSame(CurrentTime)) {
        //     console.log("Same time");
        // };

        // wrong format
        function checkTime() {
            CurrentTime = CurrentTime.startOf("hour");
            console.log(CurrentTime);
            // time5 = time5.startOf("hour");
            console.log(time5);
            if (CurrentTime == time5) {
                console.log("Yes");
            } else {
                console.log("wrong format");
            }
        }
        checkTime();

        // for (var i = d; i < afterTime; i++) {

        //     console.log(afterTime);

        // }

        // For dates
        // isSame();
        // isBefore();
        // isAfter();
        // for (var i = 0; i < test1; i++) {
        //     // $(".time-block").text(test1);
        //     console.log(test1);

        // }

        // if (moment(test1).isBefore(currentTime)) {
        //     console.log(yes);
        // };

        // Condition: 
        // if time is before current time. Set class to bg-danger 
        // else if time is after current time. Set class to success 
        // Separate variable for each time 

        // function compareInput() {
        //     // test1 = moment.utc(hours * 3600 * 1000).format('h:mm A');
        //     console.log(test1);

        //     if (moment(test1).isBefore(currentTime)) {
        //         console.log("yes");
        //     } else {
        //         console.log("no");
        //     }

        // };

        // compareInput();

        // Test Scroll - does not work
        // $("#other").click(function () {
        //     $(".container").scroll();
        // });

        // Attribute changes - works: 
        // $(".form-control").addClass("past");
        // $(".form-control").addClass("present");
        // $(".form-control").addClass("future");

        // Test local storage
        // Set storage

        // Local Storage not working 
        var inputBtn = $(".btn").val();
        var inputForm = $(".form-control").text();

        $(inputBtn).click(function () {

            var infoIn = inputForm;

            if (infoIn === null) {

                console.log("No value entered!");
            } else {
                var saveInfo = {
                    info: info,
                    text: text
                }
                console.log(saveInfo);
                var allInfo = localStorage.getItem("allInfo");

                if (allInfo === null) {
                    allInfo = [];
                } else {
                    allInfo = JSON.parse(allInfo);
                }
                allInfo.push(saveInfo);
                var newInfo = JSON.stringify(allInfo);

                localStorage.setItem("allInfo", newInfo);
            }
        });

        // submit


        // var aValue = storage.getItem(inputName);

        // Store
        // localStorage.setItem("lastname", "Smith");
        // // Retrieve
        // document.getElementById("result").innerHTML = localStorage.getItem("lastname");

        // Reviewing local storage

        // submit


    </script>
</body>

</html>